## 数据链路规划 API 文档

---

## 图像接口API文档

### 接口信息
- **IP 地址**:`127.0.0.1`
- **端口**:`12346`

---

### 客户端请求json格式
示例：
```json
{
  "satellites": [
    {"index": 0, "name": "Hubble", "r": 6789.0, "angle": 132.45, "speed": 3.21},
    {"index": 1, "name": "ISS", "r": 6791.5, "angle": 85.30, "speed": 2.98},
    {"index": 2, "name": "GPS-3", "r": 20345.8, "angle": 14.78, "speed": 1.05}
  ],
  "start": [0],
  "end": [2]
}
```
---

客户端需要的返回结果：
```json
{
    "path": [1, 2, 3]
}
```
---

## 图像绘制接口 API 文档

### 接口信息
- **IP 地址**：`127.0.0.1`  
- **端口**：`12346`

---

### 接收信息格式（服务端 → 客户端）

客户端（前端）将通过 Socket 接收来自后端的 `x` 和 `y` 坐标数据，用于在界面中实时绘图。

#### 数据格式：
数据以字符串形式发送，内容为一组浮点数坐标值，格式如下：

```text
x1,x2,x3,...|y1,y2,y3,...
```

#### 字段说明：

| 字段        | 含义       | 类型                | 示例                    |
| ----------- | ---------- | ------------------- | ----------------------- |
| `x1,x2,...` | 横坐标列表 | float[], 以逗号分隔 | `0.0,0.1,0.2,0.3`       |
| `y1,y2,...` | 纵坐标列表 | float[], 以逗号分隔 | `0.0,0.099,0.198,0.295` |

- `|` 用作 `x` 与 `y` 的分隔符。
- `x` 与 `y` 的元素数量应一致。
- 字符串整体一次发送，不分多包。

#### 示例：

```
0.0,0.1,0.2,0.3|0.0,0.099,0.198,0.295
```

表示坐标为：
```
x = [0.0, 0.1, 0.2, 0.3]
y = [0.0, 0.099, 0.198, 0.295]
```
---

### 错误处理要求

- 若数据格式错误或 `x`、`y` 数量不一致，客户端将忽略本次数据，并记录错误日志；

---